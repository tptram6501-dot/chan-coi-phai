<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Súng Cối 60mm - Mô Hình Kỹ Thuật</title>
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.3.0/model-viewer.min.js"></script>
    <style>
        body { margin: 0; background: #0f170d; color: #e0e0e0; font-family: 'Segoe UI', Roboto, sans-serif; }
        
        /* Tiêu đề chính */
        .main-header { 
            text-align: center; 
            padding: 15px; 
            background: linear-gradient(180deg, #1b5e20 0%, #0d2e10 100%);
            border-bottom: 2px solid #4caf50;
            box-shadow: 0 2px 10px rgba(0,0,0,0.5);
        }
        .main-header h1 { margin: 0; font-size: 24px; letter-spacing: 2px; color: #fff; }

        /* Hàng phím chức năng */
        .nav-bar { 
            display: flex; 
            justify-content: center; 
            flex-wrap: wrap; 
            gap: 12px; 
            padding: 15px; 
            background: #121212; 
        }
        button { 
            padding: 10px 18px; 
            cursor: pointer; 
            border: 1px solid #388e3c; 
            border-radius: 4px; 
            font-weight: bold; 
            transition: all 0.3s;
            text-transform: uppercase;
        }
        .btn-cum { background: #2e7d32; color: white; }
        .btn-cum:hover { background: #4caf50; box-shadow: 0 0 8px #4caf50; }
        .btn-info { background: #0277bd; color: white; border-color: #01579b; }
        .btn-info:hover { background: #039be5; box-shadow: 0 0 8px #039be5; }

        model-viewer { width: 100%; height: 70vh; background: radial-gradient(#263238, #000); }
        
        /* Hộp nội dung thuyết minh */
        #text-box { 
            display: none; 
            padding: 20px; 
            background: #1e1e1e; 
            border: 1px solid #333; 
            margin: 15px auto; 
            width: 90%; 
            max-width: 800px;
            border-left: 5px solid #0277bd;
            line-height: 1.6;
            white-space: pre-line; /* Giữ nguyên các dấu xuống dòng từ file txt */
        }
    </style>
</head>
<body>

    <div class="main-header">
        <h1>SÚNG CỐI 60MM</h1>
    </div>

    <div class="nav-bar">
        <button class="btn-cum" onclick="location.href='pages/TayCam.html'">Cụm Tay Cầm</button>
        <button class="btn-cum" onclick="location.href='pages/CoCauTam.html'">Cơ Cấu Tầm</button>
        <button class="btn-cum" onclick="location.href='pages/CoCauHuong.html'">Cơ Cấu Hướng</button>
        <button class="btn-info" onclick="toggleThuyetMinh()">Thuyết Minh</button>
    </div>

    <model-viewer 
        src="models/LapGhepTong.glb" 
        camera-controls 
        auto-rotate 
        ar 
        shadow-intensity="1"
        exposure="1">
    </model-viewer>

    <div id="text-box"></div>

    <script>
        function toggleThuyetMinh() {
            const box = document.getElementById('text-box');
            if (box.style.display === 'block') { 
                box.style.display = 'none'; 
            } else {
                fetch('ThuyetMinh.txt')
                    .then(response => response.text())
                    .then(data => {
                        box.innerText = data;
                        box.style.display = 'block';
                        box.scrollIntoView({ behavior: 'smooth' });
                    })
                    .catch(err => {
                        box.innerText = "Lỗi: Không tìm thấy file ThuyetMinh.txt";
                        box.style.display = 'block';
                    });
            }
        }
    </script>
</body>
</html>
